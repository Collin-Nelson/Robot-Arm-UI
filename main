# Main file for the test UI

import numpy, wx

class MyFrame(wx.Frame):
    def __init__(self):
        super().__init__(parent=None, title='Test UI')

        panel1 = wx.Panel(self)
        panel2 = wx.Panel(self)

        # TODO format UI and add buttons/text boxes to suit my inputs
        # I want:
        # 7 buttons/degree inputs for each joint
        # A test command button that directly sends a text command
        # A button for homing the robot
        # Reports of the state of each joint (commanded position at first, but then later the position reading from the encoder of each joint)

        self.tc1 = wx.TextCtrl(panel1, pos=(5, 20))
        self.tc2 = wx.TextCtrl(panel1, pos=(20, 20))
        btn1 = wx.Button(panel1, label='btn1', pos=(5, 5))
        btn2 = wx.Button(panel1, label='btn2', pos=(20, 5))

        btn1.Bind(wx.EVT_BUTTON, self.btn1Press)
        btn2.Bind(wx.EVT_BUTTON, self.btn2Press)

        sizer = wx.FlexGridSizer(2, 2, 10, 10)
        sizer.Add(btn1, 0, wx.ALL, 5)
        sizer.Add(self.tc1, 0, wx.ALL, 5)
        sizer.Add(btn2, 0, wx.ALL, 5)
        sizer.Add(self.tc2, 0, wx.ALL, 5)
        panel1.SetSizer(sizer)

        self.Show()

    def btn1Press(self, event):
        value = self.tc1.GetValue()
        if not value:
            print("You didn't enter anything!")
        else:
            print(f'You typed: "{value}"')

    def btn2Press(self, event):
        value = self.tc2.GetValue()
        if not value:
            print("You didn't enter anything!")
        else:
            print(f'You typed: "{value}"')


if __name__ == '__main__':
    app = wx.App()
    frame = MyFrame()
    app.MainLoop()